<div class="container">
    <div class="row linha-seletor">
      <!-- <form [formGroup]="formulario" class="col-4">
        <select class="form-control col-12 seletor" aria-label="Default select example" (change)="buscarLeilao()" formControlName="id" >
          <option selected>Selecione o Leilão</option>
          <option *ngFor="let item of leiloes" value="{{item.id}}">{{item.nome}} - {{item.titulo}}</option>

        </select>
      </form> -->
      <app-search-leilao class="search-leilao" (emitLeilao)="buscarLeilao($event)"></app-search-leilao>
    </div>

    <div class="row">
      <div class="col-sm-6 col-lg-3">
        <div class="card text-white bg-primary">
          <div class="card-body ">
            <div>
              <div class="text-value-lg">{{contadorVisitantes}}</div>
              <div class="title">Visitantes</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card text-white bg-info">
          <div class="card-body ">
            <div>
              <div class="text-value-lg">{{contadorHabilitados}}</div>
              <div class="title">Habilitados</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card text-white bg-warning">
          <div class="card-body ">
            <div>
              <div class="text-value-lg">{{contadorParticipantes}}</div>
              <div class="title">Participantes</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card text-white bg-danger">
          <div class="card-body">
            <div>
              <div class="text-value-lg">{{contadorLances}}</div>
              <div class="title">Lances</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-5">
        <div class="card">
          <div class="card-header">
            <h5>Lotes - Total: {{totalLotes}}</h5>
          </div>
          <div class="card-body">
            <canvas baseChart
            [data]="doughnutChartData"
            [labels]="doughnutChartLabels"
            [chartType]="doughnutChartType"
            [options]="doughnutChartOptions"
            height="222px">

            </canvas>
          </div>
        </div>
      </div>
      <div class="col-7">
        <div class="card">
          <div class="card-header">
            <h5>Top 10 - Lotes com mais lances</h5>
          </div>
          <div class="card-body">
            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
            [legend]="barChartLegend" [chartType]="barChartType"
            [colors]="barChartColor"
            >
            </canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h5>Valor mínimo de Venda x Lances Ofertados </h5>
          </div>
          <div class="card-body">
            <canvas id="bar-chart-horizontal" width="800" height="250" #barrasHorizontal></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <ngx-flip [flip]="flipDiv">
          <div front>
            <div class="card">
              <div class="card-header financeiro">
                <h5>Financeiro - Lotes</h5>
                <button type="button" class="btn btn-primary btn-sm " (click)="girar()" tooltip="Listas">Consultar Tabelas
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                    <path
                      d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z" />
                  </svg>
                </button>

              </div>
              <div class="card-body">
                <canvas baseChart style="width: inherit;height: 350px;" [datasets]="barChartDataFinanceiro"
                    [labels]="barChartLabelsFinanceiro" [options]="barChartOptionsFinanceiro"
                    [legend]="barChartLegendFinanceiro"
                    [chartType]="barChartTypeFinanceiro" [colors]="barChartColorFinanceiro">
                  </canvas>

              </div>
            </div>
          </div>
          <div back>
            <div class="card">
              <div class="card-header financeiro">
                <h5>Financeiro - Lotes</h5>
                <button type="button" class="btn btn-primary btn-sm " (click)="girar()" tooltip="Listas">Consultar Tabelas
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                    <path
                      d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z" />
                  </svg>
                </button>
              </div>
              <div class="card-block tabelas">
                <div class="table-responsive mt-4">
                  <tabset>
                    <tab>
                      <ng-template tabHeading>
                        <div class="font-weight-bold text-muted small">
                          <i class="fa fa-tasks"></i> &nbsp; Arrematados
                        </div>
                      </ng-template>
                      <div class="table-responsive mt-1">
                        <table class="table table-striped" [mfData]="listaArrematados" #mfArrematados="mfDataTable"
                          [mfRowsOnPage]="5">
                          <thead>
                            <tr>
                              <th>
                                <mfDefaultSorter by="id">Id</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="data_Arrematacao">Data Arrematação</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="numeroLote">Nº Lote</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="status">Status</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Arrematado">Valor Arrematado</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Taxas">Valor Taxas</mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mfArrematados.data">
                              <td>{{item.loteId }}</td>
                              <td>{{item.dataArrematacao | date : 'dd/MM/yyyy'}}</td>
                              <td>{{item.numeroLote}}</td>
                              <td>{{item.status}}</td>
                              <td>{{item.valorArrematacao | currencyFormat}}</td>
                              <td>{{item.valorTaxas | currencyFormat}}</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td colspan="6">
                                <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </tab>
                    <tab>
                      <ng-template tabHeading>
                        <div class="font-weight-bold text-muted small">
                          <i class="fa fa-redo-alt"></i>&nbsp; Pagos
                        </div>
                      </ng-template>
                      <div class="table-responsive mt-1">
                        <table class="table table-striped" [mfData]="listaPago" #mfPago="mfDataTable" [mfRowsOnPage]="10">
                          <thead>
                            <tr>
                              <th>
                                <mfDefaultSorter by="id">Id</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="data_Arrematacao">Data Arrematação</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="numeroLote">Nº Lote</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="status">Status</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Arrematado">Valor Arrematado</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Taxas">Valor Taxas</mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mfPago.data">
                              <td>{{item.loteId }}</td>
                              <td>{{item.dataArrematacao | date : 'dd/MM/yyyy'}}</td>
                              <td>{{item.numeroLote}}</td>
                              <td>{{item.status}}</td>
                              <td>{{item.valorArrematacao | currencyFormat}}</td>
                              <td>{{item.valorTaxas | currencyFormat}}</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td colspan="10">
                                <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </tab>
                    <tab>
                      <ng-template tabHeading>
                        <div class="font-weight-bold text-muted small">
                          <i class="fa fa-redo-alt"></i>&nbsp; Pendentes
                        </div>
                      </ng-template>
                      <div class="table-responsive mt-1">
                        <table class="table table-striped" [mfData]="listaPendentes" #mfPendente="mfDataTable"
                          [mfRowsOnPage]="10">
                          <thead>
                            <tr>
                              <th>
                                <mfDefaultSorter by="id">Id</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="data_Arrematacao">Data Arrematação</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="numeroLote">Nº Lote</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="status">Status</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Arrematado">Valor Arrematado</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Taxas">Valor Taxas</mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mfPendente.data">
                              <td>{{item.loteId }}</td>
                              <td>{{item.dataArrematacao | date : 'dd/MM/yyyy'}}</td>
                              <td>{{item.numeroLote}}</td>
                              <td>{{item.status}}</td>
                              <td>{{item.valorArrematacao | currencyFormat}}</td>
                              <td>{{item.valorTaxas | currencyFormat}}</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td colspan="10">
                                <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </tab>
                    <tab>
                      <ng-template tabHeading>
                        <div class="font-weight-bold text-muted small">
                          <i class="fa fa-redo-alt"></i>&nbsp; Vencidos
                        </div>
                      </ng-template>
                      <div class="table-responsive mt-1">
                        <table class="table table-striped" [mfData]="listaExpirados" #mfExpirado="mfDataTable"
                          [mfRowsOnPage]="10">
                          <thead>
                            <tr>
                              <th>
                                <mfDefaultSorter by="id">Id</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="data_Arrematacao">Data Arrematação</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="numeroLote">Nº Lote</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="status">Status</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Arrematado">Valor Arrematado</mfDefaultSorter>
                              </th>
                              <th>
                                <mfDefaultSorter by="valor_Taxas">Valor Taxas</mfDefaultSorter>
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of mfExpirado.data">
                              <td>{{item.loteId }}</td>
                              <td>{{item.dataArrematacao | date : 'dd/MM/yyyy'}}</td>
                              <td>{{item.numeroLote}}</td>
                              <td>{{item.status}}</td>
                              <td>{{item.valorArrematacao | currencyFormat}}</td>
                              <td>{{item.valorTaxas | currencyFormat}}</td>
                            </tr>
                          </tbody>
                          <tfoot>
                            <tr>
                              <td colspan="10">
                                <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                              </td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </tab>
                  </tabset>
                </div>
              </div>
            </div>
          </div>
        </ngx-flip>
      </div>
    </div>
</div>
