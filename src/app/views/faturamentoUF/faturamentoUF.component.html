<ngx-loading [show]="loading" [config]="{ backdropBrecolhimentoRadius: '0px' }"></ngx-loading>
<div class="animated fadeIn">
  <div class="dashboard-bar">
    <div class="row">
      <div class="col-md-5 text-right">
        <i class="far fa-calendar"></i>
        <span #dp="bsDaterangepicker"
              [(bsValue)]="periodo"
              (bsValueChange)="bsPeriodoChange()"
              bsDaterangepicker
              title="Periodo"
              class="dash-periodo"
              id="periodo"
              [maxDate]="maxDate">
          {{periodo[0] | amDateFormat:'DD MMM YY' }} - {{periodo[1] | amDateFormat:'DD MMM YY' }}
        </span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="card text-white bg-success">
        <div class="card-header">
          <h3>Faturamento Total</h3>
        </div>
        <div class="card-body">
          <div style="font-size: 1.2rem;">
            <span class="fa-layers fa-fw">
              <i class="fas fa-tachometer-alt fa-sm"></i>
            </span>
            <strong>{{faturamentoTotal | currency:'R$ '}}</strong>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-md-3">
      <div class="card text-white bg-info">
        <div class="card-header">
          <h3>Clientes Total</h3>
        </div>
        <div class="card-body">
          <div style="font-size: 1.2rem;">
            <span class="fa-layers fa-fw">
              <i class="fas fa-chart-line fa-sm" data-fa-transform="grow-2"></i>
            </span>&nbsp;
            <strong>{{total_clientes}}</strong>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-md-3">
      <div class="card text-white bg-danger">
        <div class="card-header">
          <h3>UF</h3>
        </div>
        <div class="card-body">
          <div style="font-size: 1.2rem;">
            <span class="fa-layers fa-fw">
              <i class="far fa-credit-card"></i>
              <i class="fa fa-check-circle stroke-danger" data-fa-transform="shrink-8 up-5.3 right-8"></i>
            </span>&nbsp;
            <strong>{{UfTotal}}</strong>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-md-3">
      <div class="card text-white bg-warning">
        <div class="card-header">
          <h3>Dep√≥sito</h3>
        </div>
        <div class="card-body">
          <div style="font-size: 1.2rem;">
            <span class="fa-layers fa-fw">
              <i class="far fa-credit-card"></i>
            </span>&nbsp;
            <strong>{{total_depositos}}</strong>
          </div>
        </div>
      </div>
    </div><!--/.col-->
  </div><!--/.row-->
  <div class="row">
    <div class="col-md-6">
      <ngx-flip [flip]="flipDiv">
        <div front>
          <div class="card" *ngIf="!loading">
            <div class="card-body">
              <div class="text-right">
                <button class="btn btn-light" (click)="girar()">></button>
              </div>
              <div class="rounded">
                <div id="controls" class="nicebox">
                  <div id="legend">
                    <div id="census-min">{{censusMin | currency:'R$ '}}</div>
                    <div class="color-key"><span id="data-caret">&#x25c6;</span></div>
                    <div id="census-max">{{censusMax | currency:'R$ '}}</div>
                  </div>
                  <div id="data-box" class="nicebox">
                    <label id="data-label" for="data-value">{{UF}}</label>
                    <span id="data-value">{{faturamento | currency:'R$ '}}</span>
                  </div>
                </div>
                <ngui-map id="map" style="height:415px; width:100%;"
                          [options]="mapOptions"
                          (mapReady$)="onMapReady($event)">
                </ngui-map>
              </div>
            </div>
          </div>
        </div>
        <div back>
          <div class="card">
            <div class="card-body">
              <div class="text-right">
                <button class="btn btn-light" (click)="girar()"><</button>
              </div>
              <div class="rounded" *ngIf="faturamentoUFChartData">
                <canvas baseChart class="charts"
                        height="415"
                        [datasets]="faturamentoUFChartData"
                        [labels]="faturamentoUFChartLabels"
                        [options]="faturamentoUFChartOptions"
                        [legend]="faturamentoUFChartLegend"
                        [chartType]="faturamentoUFCliChartType"
                        [colors]="faturamentoUFChartColors"
                        (chartClick)="chartUFClicked($event)"
                        #faturamentoUFChart></canvas>
              </div>
            </div>
          </div>
        </div>
      </ngx-flip>
    </div>
    <div class="col-md-6">
      <div class="card" *ngIf="!loadingCliente">
        <div class="card-body">
          <div class="rounded" *ngIf="faturamentoUFCliChartData">
            <canvas baseChart class="charts"
                    height="450"
                    [datasets]="faturamentoUFCliChartData"
                    [labels]="faturamentoUFCliChartLabels"
                    [options]="faturamentoUFCliChartOptions"
                    [legend]="faturamentoUFCliChartLegend"
                    [chartType]="faturamentoUFCliChartType"
                    [colors]="faturamentoUFCliChartColor"
                    (chartClick)="chartDepClicked($event)"
                    #faturamentoUFCliChart></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" #depositoAlvo>
    <div class="col-md-12">
      <div class="card" *ngIf="!loadingDeposito">
        <div class="card-body">
          <div class="rounded" *ngIf="faturamentoUFDepChartData">
            <canvas baseChart class="charts"
                    height="450"
                    [datasets]="faturamentoUFDepChartData"
                    [labels]="faturamentoUFDepChartLabels"
                    [options]="faturamentoUFDepChartOptions"
                    [legend]="faturamentoUFDepChartLegend"
                    [chartType]="faturamentoUFDepChartType"
                    [colors]="faturamentoUFDepChartColor"
                    #faturamentoUFDepChart></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
